<body class="flex-column-center">
<script type="text/javascript" src="/js/delete-confirmation.js" defer></script>

<h1>Welcome {{username}}</h1>
<p class="secondary-text">Start tracking your workout!</p>
<a href='/tracker' class="main-button" onclick="startNewTimer()"> Track Workout </a>
<script>
  function startNewTimer(){
    localStorage.clear('timeInSeconds')
  }
</script>
<hr>

<h2>Statistics</h2>
<p>Total Workouts: <strong>{{totalWorkouts}}</strong></p>
<p>Active Days: <strong>{{activeDays}}</strong></p>

<ul class="workouts-ul">
	{{#each pastWorkouts}}
		<details class="container">
			<summary class="flex-row-between">
				<h3>{{title}}</h3>
				<p>{{formatDate date}}</p>
			</summary>
				<div class="details flex-column">
					<p><i>{{description}}</i></p>
					{{> exerciseTable this}}
					<h4>Summary</h4>
					<ul class="summary">
						<li>Total Exercises: <strong>{{totalExercises}}</strong></li>
						<li>Total Duration: <strong>{{duration}}</strong></li>
					</ul>
				</div>
				<div>
					<button class="logout" onclick="document.getElementById('{{_id}}').style.display = 'flex'">Delete Workout üóëÔ∏è</button>
					<div id="{{_id}}" class="delete-confirmation">
						<div>
							<h2><strong>{{title}}</strong></h2>
							<h4>Do you really want to delete this Workout?</h4>
						</div>
						<form id="{{_id}}" action="/delete" method="POST">
							<label for="id"hidden>{{_id}}</label>
							<input name="id" value="{{_id}}" hidden>
							<button class="main-button">YES</button>
							<a class="standard-button" onclick="document.getElementById('{{_id}}').style.display='none'">NO</a>
						</form>
					</div>
				</div>
		</details>
	{{/each}}
</ul>

<hr>

<a href="/auth/logout" class="logout">Logout</a>